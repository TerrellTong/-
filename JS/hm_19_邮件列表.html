<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="table.css">
	<style>
		.one {
			background-color: #e1e16a;
		}
		.two {
			background-color: #75f094;
		}
		.over {
			background-color: #ef7125;
		}
	</style>
	<script>
		//行的间隔显示
		var name;
		function color(){
			//1.获取table结点
			var tableNode = document.getElementById("mailtable");
			//2.获取所有的行
			var RowsNode = tableNode.rows;
			//3.循环遍历
			for(var x=1; x<RowsNode.length;x++)
			{
				if(x%2==1)
					RowsNode[x].className = "one";
				else
					RowsNode[x].className = "two";
				//选中的时候高亮
				RowsNode[x].onmouseover = function(){
					name = this.className;
					this.className = "over";
				}
				RowsNode[x].onmouseout = function(){
					this.className = name;
				}
			}
		}

		//全选
		function checkAll(node){
			//获取所有名为mail的单选框
			var Nodes = document.getElementsByName("mail");
			for(var x=0;x<Nodes.length;x++)
			{
				//判断全选框是否被选中
				if(node.checked)
				{
					Nodes[x].checked = true;
				}
				else
					Nodes[x].checked = false;
			}
		}

		//定义复选框按钮的事件
		function checkAllByBut(num){
			//获取所有名为mail的单选框
			var Nodes = document.getElementsByName("mail");
			for(var x=0;x<Nodes.length;x++)
			{
				//判断是怎么选择
				//如果是大于1的就反选
				if(num>1)
					Nodes[x].checked = !(Nodes[x].checked);
				else
					Nodes[x].checked =num;//由于非真大于0，假为0，则可以直接赋值给他们
			}
		}

		//删除邮件
		function deleteMail(){
			if(!confirm("确认删除？"))
			{
				return;
			}
			//获取所有名为mail的单选框
			var Nodes = document.getElementsByName("mail");
			//开始遍历
			for(var x=0;x<Nodes.length;x++)
			{
				if(Nodes[x].checked)
				{
					var TrNode = Nodes[x].parentNode.parentNode;
					TrNode.parentNode.removeChild(TrNode); //remove会改变集合长度
					x--;//length在递减，但是x在递增,则如果x不减,那么会有一些元素不会被删除
				}
				color();
			}
		}
		//装载网站触发事件
		onload = function(){
			color();
		}
	</script>
</head>
<body>
	<table id="mailtable">
	<tr>
    	<th>
        	<input type="checkbox" name="all" onclick="checkAll(this)"  />全选
        </th>
        <th>
        	发件人
        </th>
        <th>
        	邮件名称
        </th>
        <th>
        	邮件附属信息
        </th>
    </tr>
    
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三11
        </td>
        <td>
        	我是邮件11
        </td>
        <td>
        	我是附属信息11
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三22
        </td>
        <td>
        	我是邮件22
        </td>
        <td>
        	我是附属信息22
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三33
        </td>
        <td>
        	我是邮件33
        </td>
        <td>
        	我是附属信息33
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三44
        </td>
        <td>
        	我是邮件44
        </td>
        <td>
        	我是附属信息44
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三55
        </td>
        <td>
        	我是邮件55
        </td>
        <td>
        	我是附属信息55
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三66
        </td>
        <td>
        	我是邮件66
        </td>
        <td>
        	我是附属信息66
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三117
        </td>
        <td>
        	我是邮件117
        </td>
        <td>
        	我是附属信息17
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三118
        </td>
        <td>
        	我是邮件118
        </td>
        <td>
        	我是附属信息118
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三119
        </td>
        <td>
        	我是邮件119
        </td>
        <td>
        	我是附属信息119
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三1100
        </td>
        <td>
        	我是邮件110
        </td>
        <td>
        	我是附属信息110
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三11a
        </td>
        <td>
        	我是邮件11a
        </td>
        <td>
        	我是附属信息11a
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三11b
        </td>
        <td>
        	我是邮件11b
        </td>
        <td>
        	我是附属信息1b1
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三11c
        </td>
        <td>
        	我是邮件11c
        </td>
        <td>
        	我是附属信息11c
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三11d
        </td>
        <td>
        	我是邮件11d
        </td>
        <td>
        	我是附属信息11d
        </td>
    </tr>
    <tr>
    	<td>
        	<input type="checkbox" name="mail" />
        </td>
        <td>
        	张三11e
        </td>
        <td>
        	我是邮件11e
        </td>
        <td>
        	我是附属信息11e
        </td>
    </tr>
    <tr>
    	<th>
        	<input type="checkbox" name="all" onclick="checkAll(this)"  />全选
        </th>
        <th colspan="3">
        	<input type="button" value="全选" onclick="checkAllByBut(1)" />
            <input type="button" value="取消全选" onclick="checkAllByBut(0)"  />
            <input type="button" value="反选" onclick="checkAllByBut(2)"  />
            <input type="button" value="删除所选附件" onclick="deleteMail()" />
        </th>
    </tr>
</table>
</body>
</html>